<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Extracredit2</title>
    <link rel="stylesheet" href="https://mooozi.github.io/lectures/css/reset.css">
    <link rel="stylesheet" href="https://mooozi.github.io/lectures/css/font.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./design.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <header>
        <h1>Checkbox Challenge</h1>
    </header>
    <div id="wrap">
        <form>
            <input type="checkbox" id="check1" onclick="check_all(this)"><label for="check1" id="toggle_label">Check All</label>
            <div><input type="checkbox" id="check2" name="box" onclick="validate_label()"></div>
            <div><input type="checkbox" id="check3" name="box" onclick="validate_label()"></div>
            <div><input type="checkbox" id="check4" name="box" onclick="validate_label()"></div>
            <div><input type="checkbox" id="check5" name="box" onclick="validate_label()"></div>
        </form>
    </div>

    <script>
        function check_all(toggle) {
            if(!toggle.checked) 
            {
                document.getElementById("toggle_label").innerHTML = "Check All";
                boxes = document.getElementsByName('box');
                numBoxes = boxes.length;
                for (var i = 0; i < numBoxes; i++) 
                {
                    boxes[i].checked = toggle.checked;
                }
            } 
            else 
            {
                document.getElementById("toggle_label").innerHTML = "Uncheck All";
                boxes = document.getElementsByName('box');
                numBoxes = boxes.length;
                for (var i = 0; i < numBoxes; i++) 
                {
                    boxes[i].checked = toggle.checked;
                }
            }
        }

        function validate_label(toggle) {
            boxes = document.getElementsByName('box');
            numBoxes = boxes.length;
            var check1 = document.getElementById("check1");
            for (var i = 0; i < numBoxes; i++)
            {
                check1.checked = boxes[i].checked;
                if (!boxes[i].checked) {
                    document.getElementById("toggle_label").innerHTML = "Check All";
                    return;
                }
            }
            document.getElementById("toggle_label").innerHTML = "Uncheck All";
        }

    </script>
</body>